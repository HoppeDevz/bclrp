local a=module('_core','libs/Tunnel')local b=module('_core','libs/Proxy')APICKF=b.getInterface('API')cAPI=a.getInterface('cAPI')hpp=a.getInterface("hpp_contraband",hpp)Citizen.CreateThread(function()while true do Citizen.Wait(5*60*1000)collectgarbage("count")collectgarbage("collect")end end)local c=3000;function ToogleContrabandMenu(d)SetNuiFocus(d,d)SendNUIMessage({open=d})end;RegisterNUICallback("closeMenu",function()ToogleContrabandMenu(false)end)RegisterNUICallback("buyItem",function(e)local f=e._ItemName;local g=e._Price;local h=hpp.tryBuyItem(f,g)if h.error then TriggerClientEvent("Notify","negado",h.reason)end end)Citizen.CreateThread(function()while true do Citizen.Wait(c)local i=GetPlayerPed(-1)local j,k,l=table.unpack(GetEntityCoords(i))local m,n,o=1221.388671875,-3005.369140625,5.8653597831726;local p=GetDistanceBetweenCoords(j,k,l,m,n,o,true)if p<20 then c=1;DrawMarker(2,m,n,o,0,0,0,0,0,0,0.5,0.5,0.5,255,255,0,30,1,1,1,1)DrawText3Ds(m,n,o+0.7,"LOJINHA | CONTRABANDO")if p<2 and IsControlJustPressed(0,38)then ToogleContrabandMenu(true)end else c=3000 end end end)function DrawText3Ds(q,r,s,t)local u,v,w=World3dToScreen2d(q,r,s)SetTextFont(4)SetTextScale(0.35,0.35)SetTextColour(255,255,255,150)SetTextEntry("STRING")SetTextCentre(1)AddTextComponentString(t)DrawText(v,w)local x=string.len(t)/370;DrawRect(v,w+0.0125,0.01+x,0.03,0,0,0,80)end