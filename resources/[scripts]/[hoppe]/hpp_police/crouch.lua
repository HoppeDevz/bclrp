Citizen.CreateThread(function()while true do Citizen.Wait(5*60*1000)collectgarbage("count")collectgarbage("collect")end end)local a=false;local b=0;Citizen.CreateThread(function()while true do kswait=4;local c=PlayerPedId()DisableControlAction(0,36,true)if not IsPedInAnyVehicle(c)then if GetEntityHealth(GetPlayerPed(-1))>121 then if a then a=false;ResetPedStrafeClipset(c)ResetPedMovementClipset(c,0.25)b=3;agachar=false end else a=true;RequestAnimSet("move_m@injured")SetPedMovementClipset(GetPlayerPed(-1),"move_m@injured",true)end;kswait=0;RequestAnimSet("move_ped_crouched")RequestAnimSet("move_ped_crouched_strafing")if IsDisabledControlJustPressed(0,36)then if GetEntityHealth(GetPlayerPed(-1))>121 then if b==0 then if agachar then ResetPedStrafeClipset(c)ResetPedMovementClipset(c,0.25)b=3;agachar=false else SetPedStrafeClipset(c,"move_ped_crouched_strafing")SetPedMovementClipset(c,"move_ped_crouched",0.25)b=3;agachar=true end end else a=true;RequestAnimSet("move_m@injured")SetPedMovementClipset(GetPlayerPed(-1),"move_m@injured",true)end end end;Citizen.Wait(kswait)end end)Citizen.CreateThread(function()while true do Citizen.Wait(1)local c=PlayerPedId()if not IsPedWeaponReadyToShoot(c)then DisableControlAction(0,167,true)end end end)Citizen.CreateThread(function()while true do if b>0 then b=b-1 end;Citizen.Wait(1000)end end)