local a=module('_core','libs/Tunnel')local b=module('_core','libs/Proxy')local c=a.getInterface("hpp_identity")API=b.getInterface('API')cAPI=a.getInterface('cAPI')local d=false;Citizen.CreateThread(function()while true do Citizen.Wait(5*60*1000)collectgarbage("count")collectgarbage("collect")end end)function ToogleIdentityMenu(e,f)d=not d;if d then PlaySoundFrontend(-1,"Enter_1st","GTAO_FM_Events_Soundset",false)end;SendNUIMessage({open=e,data=f})end;Citizen.CreateThread(function()while true do Citizen.Wait(1)if IsControlJustPressed(0,344)then local g=c.getDataByCharId()ToogleIdentityMenu(not d,g)end end end)RegisterCommand("placa",function(h,i,j)if c.checkPerm("policePerm")then if i[1]then local k=i[1]local g=c.getPlateInfo(k)if g.error then TriggerEvent("Notify","importante","Placa inválida/Veículo furtado!")else ToogleIdentityMenu(not d,g.data)end else TriggerEvent("Notify","negado","Use <b>/placa</b> <b>placa</b>")end else TriggerEvent("Notify","negado","Você não possui permissão!")end end)function newNotify(l,m,n,o)if m~=-1 then SetNotificationBackgroundColor(m)end;SetNotificationTextEntry(l)for p,q in ipairs(n)do AddTextComponentSubstringPlayerName(q)end;DrawNotification(false,false)if o then PlaySoundFrontend(-1,"Menu_Accept","Phone_SoundSet_Default",1)end end;function notify(r)newNotify("STRING",11,{""..r},true)end