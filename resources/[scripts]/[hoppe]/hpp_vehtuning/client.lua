Citizen.CreateThread(function()while true do Citizen.Wait(5*60*1000)collectgarbage("count")collectgarbage("collect")end end)local a=false;RegisterCommand("vtuning",function(b,c,d)if a then return end;local e=getNearestVehicle(4)if e~=nil and e~=0 then local f=GetVehicleMod(e,11)local g=GetVehicleMod(e,12)local h=GetVehicleMod(e,13)local i=GetVehicleMod(e,18)local j=GetVehicleMod(e,16)local k=GetVehicleEngineHealth(e)local l=GetEntityHealth(e)local m=GetVehicleFuelLevel(e)print('turbo',i)menu_state_counter=10;a=not a;SendNUIMessage({open=true,engine_level=f,brake_level=g,transmission_level=h,turbo=i,armour_level=j,engine_health=k,vehicle_health=l,fuel=m})else TriggerEvent("Notify","negado","Nenhum veÃ­culo perto!")end end)local menu_state_counter=10;Citizen.CreateThread(function()while true do Citizen.Wait(1000)if a then if menu_state_counter>0 then menu_state_counter=menu_state_counter-1 end;if menu_state_counter==0 then SendNUIMessage({open=false})a=not a;menu_state_counter=10 end end end end)function getAllVehicles()local n={}local o,p=FindFirstVehicle()if p then table.insert(n,p)end;local q;repeat q,p=FindNextVehicle(o)if q and p then table.insert(n,p)end until not q;EndFindVehicle(o)return n end;function getNearestVehicles(r)local s={}local t,u,v=table.unpack(GetEntityCoords(GetPlayerPed(-1)))for w,p in pairs(getAllVehicles())do local x,y,z=table.unpack(GetEntityCoords(p))local A=GetDistanceBetweenCoords(x,y,z,t,u,v,true)if A<=r then s[p]=A end end;return s end;function getNearestVehicle(r)local p;local n=getNearestVehicles(r)local B=r+0.0001;for C,D in pairs(n)do if D<B then B=D;p=C end end;return p end