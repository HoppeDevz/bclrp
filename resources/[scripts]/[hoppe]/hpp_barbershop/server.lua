local a=module('_core','libs/Tunnel')local b=module('_core','libs/Proxy')APICKF=b.getInterface('API')cAPI=a.getInterface('cAPI')hpp={}a.bindInterface("hpp_barbershop",hpp)local c=module("_core","config/Permissions")Citizen.CreateThread(function()while true do Citizen.Wait(5*60*1000)collectgarbage("count")collectgarbage("collect")end end)function hpp.getEyeColor()local d=source;local e=APICKF.getUserFromSource(d)if e then local f=e:getCharacter()if f then local g=f.id;local h=MySQL.Sync.fetchAll("SELECT * FROM characters WHERE charid = @charid",{["@charid"]=g})if h then if h[1]then if h[1].eyecolor then return h[1].eyecolor else return false end end end end end end;function hpp.finishCustom(i,j)local d=source;local e=APICKF.getUserFromSource(d)if e then local f=e:getCharacter()if f then local g=f.id;MySQL.Sync.fetchAll("CALL setData(@target, @key, @value, @id)",{["@target"]='saveHair',["@key"]="getHair",["@value"]=json.encode(i),["@id"]=g})MySQL.Sync.fetchAll("UPDATE characters SET eyecolor = @eyecolor WHERE charid = @charid",{["@eyecolor"]=parseInt(j),["@charid"]=g})print(json.encode(i))end end end