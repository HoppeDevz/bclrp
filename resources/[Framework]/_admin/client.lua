local a=module('_core','libs/Tunnel')local b=module('_core','libs/Proxy')API=b.getInterface('API')cAPI=a.getInterface('cAPI')RegisterNetEvent("deletarveiculo")AddEventHandler("deletarveiculo",function()local c=GetPlayerPed(-1)if IsPedInAnyVehicle(c)then DeleteEntity(GetVehiclePedIsIn(c))else print("getNearestVehicle(4)",getNearestVehicle(4))DeleteEntity(getNearestVehicle(4))end end)RegisterNetEvent("hoppe:admin:healing")AddEventHandler("hoppe:admin:healing",function()local c=GetPlayerPed(-1)SetEntityHealth(c,400)end)RegisterNetEvent("hoppe:admin:fix")AddEventHandler("hoppe:admin:fix",function()local c=GetPlayerPed(-1)local d=GetVehiclePedIsIn(c)if d then if d~=nil or d~=0 then TriggerServerEvent("hoppe:admin:fix:sync",VehToNet(d))end end end)RegisterNetEvent("hoppe:admin:fix:sync")AddEventHandler("hoppe:admin:fix:sync",function(e)local d=NetToVeh(e)SetVehicleFixed(d)local f=GetPedMaxHealth(d)SetEntityHealth(d,tonumber(f))end)RegisterNetEvent("vehtuning")AddEventHandler("vehtuning",function()local c=PlayerPedId()local g=GetVehiclePedIsIn(c)if IsEntityAVehicle(g)then SetVehicleModKit(g,0)SetVehicleWheelType(g,7)SetVehicleMod(g,0,GetNumVehicleMods(g,0)-1,false)SetVehicleMod(g,1,GetNumVehicleMods(g,1)-1,false)SetVehicleMod(g,2,GetNumVehicleMods(g,2)-1,false)SetVehicleMod(g,3,GetNumVehicleMods(g,3)-1,false)SetVehicleMod(g,4,GetNumVehicleMods(g,4)-1,false)SetVehicleMod(g,5,GetNumVehicleMods(g,5)-1,false)SetVehicleMod(g,6,GetNumVehicleMods(g,6)-1,false)SetVehicleMod(g,7,GetNumVehicleMods(g,7)-1,false)SetVehicleMod(g,8,GetNumVehicleMods(g,8)-1,false)SetVehicleMod(g,9,GetNumVehicleMods(g,9)-1,false)SetVehicleMod(g,10,GetNumVehicleMods(g,10)-1,false)SetVehicleMod(g,11,GetNumVehicleMods(g,11)-1,false)SetVehicleMod(g,12,GetNumVehicleMods(g,12)-1,false)SetVehicleMod(g,13,GetNumVehicleMods(g,13)-1,false)SetVehicleMod(g,14,16,false)SetVehicleMod(g,15,GetNumVehicleMods(g,15)-2,false)SetVehicleMod(g,16,GetNumVehicleMods(g,16)-1,false)ToggleVehicleMod(g,17,true)ToggleVehicleMod(g,18,true)ToggleVehicleMod(g,19,true)ToggleVehicleMod(g,20,true)ToggleVehicleMod(g,21,true)ToggleVehicleMod(g,22,true)SetVehicleMod(g,23,1,false)SetVehicleMod(g,24,1,false)SetVehicleMod(g,25,GetNumVehicleMods(g,25)-1,false)SetVehicleMod(g,27,GetNumVehicleMods(g,27)-1,false)SetVehicleMod(g,28,GetNumVehicleMods(g,28)-1,false)SetVehicleMod(g,30,GetNumVehicleMods(g,30)-1,false)SetVehicleMod(g,33,GetNumVehicleMods(g,33)-1,false)SetVehicleMod(g,34,GetNumVehicleMods(g,34)-1,false)SetVehicleMod(g,35,GetNumVehicleMods(g,35)-1,false)SetVehicleMod(g,38,GetNumVehicleMods(g,38)-1,true)SetVehicleTyreSmokeColor(g,0,0,127)SetVehicleWindowTint(g,1)SetVehicleTyresCanBurst(g,false)SetVehicleNumberPlateText(g,"BCLRP")SetVehicleNumberPlateTextIndex(g,5)SetVehicleModColor_1(g,4,12,0)SetVehicleModColor_2(g,4,12)SetVehicleColours(g,12,12)SetVehicleExtraColours(g,70,141)end end)function getAllVehicles()local h={}local i,d=FindFirstVehicle()if d then table.insert(h,d)end;local j;repeat j,d=FindNextVehicle(i)if j and d then table.insert(h,d)end until not j;EndFindVehicle(i)return h end;function getNearestVehicles(k)local l={}local m,n,o=table.unpack(GetEntityCoords(GetPlayerPed(-1)))for p,d in pairs(getAllVehicles())do local q,r,s=table.unpack(GetEntityCoords(d))local t=GetDistanceBetweenCoords(q,r,s,m,n,o,true)if t<=k then l[d]=t end end;return l end;RegisterNetEvent("hoppe:players:online:counter")AddEventHandler("hoppe:players:online:counter",function()local u=GetActivePlayers()TriggerEvent("chatMessage","ADMIN",{255,0,0},"PLAYERS ONLINE: "..#u)end)function getNearestVehicle(k)local d;local h=getNearestVehicles(k)local v=k+0.0001;for w,x in pairs(h)do if x<v then v=x;d=w end end;return d end